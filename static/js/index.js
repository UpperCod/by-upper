function e(e,t,n){if(t=t||{},arguments.length>3){n=[n];for(let e=3;e<arguments.length;e++)n.push(arguments[e])}null!=n&&(t.children=n);let r={type:e,props:t},o=t.key;return null!=o&&(r.key=""+o),r}function t(t){return null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t?e(null,null,""+t):t}const n=[],r={},o=Symbol("Atomico.state"),s="localName",l="host",i=97,a=116,u=79,h=77,c=73,p=67,d={children:1},f={innerHTML:1,textContent:1,contenteditable:1},m={className:1,id:1,checked:1,value:1,selected:1},b={},y={};let g,w,v=Promise.prototype.then.bind(Promise.resolve());function k(e){return"function"==typeof e}function x(e,t,n,r,o,s,l){if(n=null==n?null:n,r=null==r?null:r,(t="class"!=t||o?t:"className")in e&&m[t]&&(n=e[t]),r!==n)if("o"!=t[0]||"n"!=t[1]||!k(r)&&!k(n))switch(t){case"ref":r&&(r.current=e);break;case"style":!function(e,t,n){let r=t,o=n;if("object"==typeof o){o="";for(let e in n)n[e]&&(y[e]||(y[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()),o+=`${y[e]}:${n[e]};`)}r!=o&&(e.style.cssText=o)}(e,n||e.style.cssText,r);break;case"shadowDom":"attachShadow"in e&&(e.shadowRoot&&!r||!e.shadowRoot&&r)&&e.attachShadow({mode:r?"open":"closed"});break;case"key":t="data-key",null==r?delete e.dataset.key:e.dataset.key=r;break;default:!o&&"list"!=t&&t in e?e[t]=null==r?"":r:null==r?e.removeAttribute(t):e.setAttribute(t,r)}else!function(e,t,n,r,o){b[t]||(b[t]=t.slice(2).toLocaleLowerCase());t=b[t],r.handleEvent||(r.handleEvent=(e=>r[e.type].call(o,e)));n?(r[t]||e.addEventListener(t,r),r[t]=n):r[t]&&(e.removeEventListener(t,r),delete r[t])}(e,t,r,s,l)}function C(e,t){let n,r,o=function(){if(!g)throw new Error("the hooks can only be called from an existing functional component in the diff queue");return g}().component,s=w++;return o.hooks[s]||(r=!0,o.hooks[s]=[t,e=>{n[2]&&(n[0]=n[2](n[0],e))}]),(n=o.hooks[s])[2]=e,r&&n[1]({type:i}),n}function A(e,t){let n=e.length;for(let r=0;r<n;r++){let n=e[r],o=n.hooks,s=o.length;t.type===p&&(n.remove=!0);for(let e=0;e<s;e++){o[e][1](t)}}}function N(e,n){let r,o=[];function s(i,c){if(!r)return;if(!k((i=t(i)).type))return A(o.splice(c),{type:p}),r=S(e,r,i,n,l),void(o.length&&(r[e.id].updateComponent=l));let d,f,m=o[c]||{};m.type!=i.type&&(A(o.splice(c),{type:p}),o[c]=function e(t,n){for(let e in n)t[e]=n[e];for(let n=2;n<arguments.length;n++)e(t,arguments[n]);return t}({hooks:[],ref:{get current(){return r}}},i),d=!0,f=!0),m=o[c];let b=i.props,y=m.props;if(!f){let e=Object.keys(y).length,t=0;for(let e in b)if(t++,b[e]!=y[e]){f=!0;break}f=f||e!=t}m.props=b,f&&!m.prevent&&function e(){if(m.remove)return r;g={component:m,next(){m.prevent||(m.prevent=!0,v(()=>{m.prevent=!1,e()}))}},w=0,A([m],{type:a});let t=m.type(m.props);g=!1,w=0,s(t,c+1),A([m],{type:d?u:h}),d=!1}()}function l(e,t,n){switch(e){case a:return r=t,s(n,0),r;case c:A([].concat(o).reverse(),{type:e});break;case p:r=!1,A(o.reverse(),{type:e}),o=[]}}return l}function S(e,r,o,i,u){let{vnode:h,updateComponent:c,handlers:p={}}=r&&r[e.id]||{};if(h==o)return r;h=h||{props:{}};let{type:m,props:b}=o,{shadowDom:y,children:g}=b,w=k(m);if(i=i||"svg"==m,w&&!c&&(c=N(e,i)),!w&&m!=l&&function(e){if(!e)return;e[s]||(e[s]=e.nodeName.toLowerCase());let t=e[s];return"#text"==t?null:t}(r)!==m){let t=L(m,i),n=r&&r.parentNode;n&&(E(e,r,!0,u),n.replaceChild(t,r)),r=t,p={}}if(c&&u!=c)return c(a,r,o);if(null==m)r.nodeValue!=g&&(r.nodeValue=g);else{(function(e,t,n,r,o,s){t=t||{};for(let s in t)d[s]||s in n||x(e,s,t[s],null,r,o);let l;for(let i in n)d[i]||(x(e,i,t[i],n[i],r,o,s),l=l||f[i]);return l})(r,h.props,o.props,i,p,e.bind)||h.props.children==g||function(e,r,o,s){let l=[],i=function e(r,o,s,l,i=0){s=s||[];l=l||[];if(a=r,Array.isArray(a)){let t=r.length;for(let n=0;n<t;n++)e(r[n],o,s,l,i+1)}else{if(null==r&&!i)return n;let e=o?o(r,l.length):t(r);o||"object"==typeof e&&null!=e.key&&-1==s.indexOf(e.key)&&(s.push(e.key),s.withKeyes=!0),l.push(e)}var a;return l}(o,!1,l),a=i.length,u=r.childNodes,h={},c=u.length,p=l.withKeyes,d=p?0:c>a?a:c;for(;d<c;d++){let t=u[d],n=d;p&&(n=t.dataset.key,l.indexOf(n)>-1)?h[n]=t:(E(e.id,t),d--,c--,r.removeChild(t))}for(let t=0;t<a;t++){let n=i[t],o=u[t],l=p?n.key:t,a=p?h[l]:o;p&&a&&a!=o&&r.insertBefore(a,o);let c=S(e,!a&&k(n.type)?L(null):a,n,s);a||(u[t]?r.insertBefore(c,u[t]):r.appendChild(c))}}(e,y&&r.shadowRoot||r,g,i)}return r[e.id]={vnode:o,handlers:p},r}function E(e,t,n,r){let{updateComponent:o}=t[e]||{},s=t.childNodes,l=s.length;o&&o!=r&&o(n?c:p);for(let t=0;t<l;t++)E(e,s[t])}function L(e,t){let n,r=document;return n=null!=e?t?r.createElementNS("http://www.w3.org/2000/svg",e):r.createElement(e):r.createTextNode("")}function P(n,s,i=r){let a={id:i.id||o,bind:i.bind,host:i.host};n=t(n),a.host||n.type==l||(n=e(l,{},n)),S(a,s,n)}function $(e){return JSON.parse(e)}class j extends HTMLElement{constructor(){super(),this.props={},this.mounted=new Promise(e=>this.mount=e),this.unmounted=new Promise(e=>this.unmount=e)}connectedCallback(){this.mount()}disconnectedCallback(){this.unmount()}attributeChangedCallback(e,t,n){t!=n&&this.setProperty(e,n)}static get observedAttributes(){let e=this.observables||{},t=[],n=(e,t,n)=>{Object.defineProperty(this.prototype,e,{set(r){if(n===Boolean){let e=this.hasAttribute(t);if(r&&e||!r&&!e)return;this[r?"setAttribute":"removeAttribute"](t,"")}else this.setProperty(e,r)},get(){return this.props[e]}})};for(let r in e){let o=r.replace(/([A-Z])/g,"-$1").toLowerCase();t.push(o),name in this.prototype||n(r,o,e[r])}return t}setProperty(e,t){e=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());let n,{observables:r}=this.constructor,o=r[e];try{if("string"==typeof t)switch(o){case Boolean:t=1==$(t||"true");break;case Number:t=Number(t);break;case Object:case Array:t=$(t);break;case Function:t=window[t]}}catch(e){n=!0}if((n||{}.toString.call(t)!=`[object ${o.name}]`)&&null!=t)throw`the observable [${e}] must be of the type [${o.name}]`;this.props[e]!==t&&this.update({[e]:t})}}class B extends j{constructor(){let t;super();let n={id:Symbol("state"),bind:this,host:!0},{styles:r}=this.constructor;this.render=this.render.bind(this);let o={};this.update=(s=>{for(let e in s)o[e]=s[e];t||(t=!0,this.mounted.then(()=>{let s=this.props={...this.props};for(let e in o){null==o[e]?delete s[e]:s[e]=o[e]}o={},P(e(this.render,s),this,n),t=!1,r&&this.shadowRoot&&(this.shadowRoot.adoptedStyleSheets=r,r=null)}))}),this.unmounted.then(()=>P("",this,n)),this.update()}}var O,R,T=":host{display:flex;width:70px;height:100%;background:var(--at-header-slim-bg,#fff);flex-flow:column nowrap;perspective:1500px}.menu,:host{position:relative}.menu{width:100%;text-transform:uppercase;font-size:12px;padding:20px 0 10px;box-sizing:border-box;background:transparent;border:none;cursor:pointer}.menu strong{position:absolute;top:100%;left:50%;transform:rotate(90deg) translate(50%,150%)}slot[name=icons]{display:block;margin:auto 20px 20px}.aside{max-width:260px;width:100vw;height:100%;position:absolute;right:100%;top:0;background:var(--at-header-slim-bg-aside,#fff);transform:rotateY(-88.666deg);transform-origin:center right;transition:var(--at-header-slim-time,.5s) ease all}:host([show]) .aside{transform:rotateY(0deg)}";function D(){return e("svg",{width:"30",height:"19",viewBox:"0 0 30 19"},e("g",{transform:"translate(-1310 -31)"},e("rect",{width:"30",height:"3",rx:"1.5",transform:"translate(1310 31)"}),e("rect",{width:"30",height:"3",rx:"1.5",transform:"translate(1310 39)"}),e("rect",{width:"30",height:"3",rx:"1.5",transform:"translate(1310 47)"})))}function M({label:t="Menu",show:n}){let r=C(0,{current:o})[0];var o;return e("host",{shadowDom:!0,ref:r},e("style",null,T),e("button",{class:"menu",onClick:()=>{r.current.show=!r.current.show}},e(D,null),e("strong",null,t)),e("div",{class:"aside"},e("slot",{name:"nav"})),e("slot",{name:"icons"}))}M.observables={label:String,show:Boolean},O="at-header-slim",R=M,customElements.define(O,R instanceof B?R:function(e){let t=class extends B{};return t.prototype.render=e,t.observables=e.observables,t.styles=e.styles,t}(R));
//# sourceMappingURL=index.js.map
